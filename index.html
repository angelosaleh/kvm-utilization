<!doctype html>
<html>
  <head>
    <link rel="stylesheet" href="styles.css">
    <title>KVM utilizaion on %host_title%</title>
  </head>
  <body>
    <div class="resourcesdiv">
      <h3>DISK USAGE</h3>
      <table>
        <tr>
          <th colspan="6">df -- display free disk space</th>
        </tr>
        <tr>
          <td>Filesystem</td>
          <td>Size</td>
          <td>Used</td>
          <td>Avail</td>
          <td>Use%</td>
          <td>Mounted on</td>
        </tr>
        <tr>
          <td>/dev/mapper/root
          <td>145G</td>
          <td>2.7G</td>
          <td>142G</td>
          <td>2%</td>
          <td>/</td>
        </tr>
        <tr>
          <td>devtmpfs</td>
          <td>1.9G</td>
          <td>0</td>
          <td>1.9G</td>
          <td>0%</td>
          <td>/dev</td>
        </tr>
        <tr>
          <td>/dev/sda1</td>
          <td>1014M</td>
          <td>144M</td>
          <td>871M</td> 
          <td>15%</td>
          <td>/boot</td>
        </tr>
        <tr>
          <td>/dev/mapper/vms</td>
          <td>932G</td>
          <td>221G</td>
          <td>711G</td>
          <td>24%</td>
          <td>/data</td>
        </tr>
      </table>
    </div>
    <div class="resourcesdiv">
      <h3>RAM USAGE</h3>
      <canvas id="ramchart"></canvas>
      <table>
        <tr>
          <th>Installed</th>
          <th>Allocated</th>
          <th>Free</th>
        </tr>
        <tr>
          <td>128G</td>
          <td>100G</td>
          <td>28G</td>
        </tr>
      </table>
    </div>
    <div class="resourcesdiv">
      <h3>CPU USAGE</h3>
      <table>
        <tr>
          <th>Total CPUs</th>
          <th>Allocated</th>
          <th>Free</th>
        </tr>
        <tr>
          <td>40</td>
          <td>38</td>
          <td>2</td>
        </tr>
      </table>
      <table>
        <tr>
          <th>Numa Node 0</th>
          <th>Numa Node 1</th>
        </tr>
        <tr>
          <th>0,20</th>
          <th>1,19</th>
          <tr>
            <td>myvm1</td>
            <td>myvm2</td>
          </tr>
        </tr>
        <tr>
          <th>2,22</th>
          <th>3,21</th>
          <tr>
            <td>myvm3</td>
            <td>myvm4</td>
          </tr>
        </tr>
      </table>
    </div>
    <div class="resourcesdiv resourcesdivall">
      <h3>ALL VMS USAGE</h3>
      <table>
        <tr>
          <th>VM Name</th>
          <th>State</th>
          <th>Disk</th>
          <th>Location</th>
          <th>RAM</th>
          <th>CPU</th>
        </tr>
        <tr>
          <td>myvm1</td>
          <td>running</td>
          <td>60G</td>
          <td>/data/myvm1.img</td>
          <td>25G</td>
          <td>10</td>
        </tr>
        <tr>
          <td>myvm2</td>
          <td>running</td>
          <td>60G</td>
          <td>/data/myvm2.img</td>
          <td>25G</td>
          <td>6</td>
        </tr>
        <tr>
          <td>myvm3</td>
          <td>running</td>
          <td>60G</td>
          <td>/data/myvm3.img</td>
          <td>25G</td>
          <td>2</td>
        </tr>
        <tr>
          <td>myvm4</td>
          <td>running</td>
          <td>80G</td>
          <td>/data/myvm4.img</td>
          <td>25G</td>
          <td>20</td>
        </tr>
        <tr>
          <th>Total</th>
          <th></th>
          <th>260G</th>
          <th></th>
          <th>100G</th>
          <th>38</th>
        </tr>
      </table>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.bundle.min.js" integrity="sha256-N4u5BjTLNwmGul6RgLoESPNqDFVUibVuOYhP4gJgrew=" crossorigin="anonymous"></script>
    <script>
      var ramctx = document.getElementById("ramchart");
      data = {
        datasets: [{
          data: [10,138],
          backgroundColor:[
            'green',
            'red',
          ]
        }],
        labels: [
          'Free 28G',
          'Allocated 100G'
        ],
      };

      var myPieChart = new Chart(ramctx,{
        type: 'pie',
        data: data,
        options: {
          tooltips: {
            callbacks: {
              label: function(tooltipItem, data) {
                return data.labels[tooltipItem.index];
              }
            }
          },
          legend: {
            onClick: (e) => e.stopPropagation()
          }
        }
      });
    </script>
  </body>
</html>
